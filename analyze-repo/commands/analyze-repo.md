---
description: GitHub 레포지토리를 클론하고 구조를 분석하여 마크다운 문서로 정리합니다
---

GitHub 레포지토리를 분석하는 작업을 수행합니다. 두 가지 실행 모드가 있습니다:

**언어: 분석 내용은 한국어를 기본으로 하되, 기술 용어나 번역이 어색한 표현은 영어를 사용해도 됩니다.**

**모드 1: URL 제공 시** - `/analyze-repo https://github.com/owner/repo`
**모드 2: URL 없이 실행** - `/analyze-repo` (현재 디렉토리가 git 레포인 경우)

## 실행 단계

1. **실행 모드 확인**
   - 사용자가 GitHub URL을 제공했는지 확인
   - URL이 없으면 현재 디렉토리가 git 레포인지 확인 (`git rev-parse --git-dir`)
   - 둘 다 아니면 사용법 안내

2. **레포지토리 준비**

   **모드 1 (URL 제공):**
   - GitHub URL에서 owner와 repo name 파싱
   - `~/Documents/clone/[repo-name]` 경로에 클론
   - 디렉토리가 이미 존재하면 덮어쓸지, 기존 것을 분석할지 사용자에게 물어보기

   **모드 2 (현재 디렉토리):**
   - 현재 작업 디렉토리를 분석 대상으로 사용
   - git remote URL에서 레포지토리 정보 추출 (`git remote get-url origin`)

3. **레포지토리 메타데이터 수집** (git 및 GitHub CLI 사용):
   - GitHub Stars 개수
   - Fork 개수
   - 라이선스 정보
   - 마지막 커밋 날짜
   - 레포지토리 설명

4. **분석 대상 디렉토리 확인**
   - 모드 1: 클론된 디렉토리 (`~/Documents/clone/[repo-name]`)
   - 모드 2: 현재 작업 디렉토리

5. **코드베이스 분석**을 철저히 수행:
   - 프로젝트 구조 (주요 디렉토리와 용도)
   - 기술 스택 (package.json, requirements.txt, go.mod, Cargo.toml 등)
   - 핵심 파일과 진입점
   - 주요 의존성
   - 아키텍처 패턴과 코드 구조
   - API 엔드포인트 (있는 경우)
   - 데이터베이스 스키마 (발견되는 경우)
   - 설정 파일들

6. **`REPO-ANALYSIS.md` 생성** (분석 대상 레포지토리 루트에):

```markdown
# [레포지토리 이름] 분석

## 레포지토리 정보
- **GitHub URL**: [url]
- **설명**: [GitHub description]
- **Stars**: ⭐ [개수]
- **Forks**: 🍴 [개수]
- **라이선스**: [라이선스]
- **마지막 커밋**: 📅 [날짜]

## 개요
[프로젝트가 무엇을 하는지 설명]

## 기술 스택
- **언어**: [프로그래밍 언어]
- **프레임워크**: [주요 프레임워크]
- **주요 라이브러리**: [핵심 의존성]

## 프로젝트 구조
```
[디렉토리 구조]
```
[주요 디렉토리 설명]

## 핵심 컴포넌트
[주요 파일과 모듈 설명]

## 의존성
[주요 라이브러리와 용도]

## 아키텍처
[아키텍처 패턴, 설계 결정사항, 데이터 흐름]

## 진입점
```bash
# 실행 명령어
```
[실행 방법 설명]

## 추가 메모
[분석 중 발견한 기타 정보]
```

7. **최종 결과 출력**:
   - 분석한 레포지토리 경로 확인
   - 분석 파일을 어디에 생성했는지 확인 (REPO-ANALYSIS.md 절대 경로)
   - 발견한 내용 간단히 요약

코드베이스 탐색은 Task 도구를 subagent_type='Explore'로 사용하여 철저히 수행하세요.
